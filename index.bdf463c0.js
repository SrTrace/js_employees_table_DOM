function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||n(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}}var r,a,o,i,c,l,u=document.querySelector("table"),d=document.querySelectorAll("thead th"),s=document.querySelectorAll("tbody tr"),m=Array(d.length).fill(-1);function f(e,t,n,r,a){var o=document.createElement("div");o.classList.add("notification",a),o.setAttribute("data-qa","notification"),o.innerHTML="\n    <h2 class = 'title'>".concat(n,"</h2>\n    <p>").concat(r,"</p>\n  "),o.style.top="".concat(e,"px"),o.style.right="".concat(t,"px"),document.body.append(o),setTimeout(function(){o.remove()},2e3)}function p(e){var t=Number(e.replace(/,/g,"").slice(1));return isNaN(t)?0:t}(r=document.createElement("form")).classList.add("new-employee-form"),i=r,a=document.createDocumentFragment(),d.forEach(function(e,n){var r=(i=e.innerText,(c=document.createElement("label")).innerHTML="".concat(i,": "),c),o=e.innerText.toLowerCase();if("office"===o){var i,c,l,u,d=((l=document.createElement("select")).setAttribute("name",o),l.setAttribute("data-qa",o),l.setAttribute("required",!0),(u=t(s).map(function(e){return e.cells[n].textContent}),t(new Set(u))).forEach(function(e,t){var n=document.createElement("option");n.setAttribute("value",e),n.textContent=e,0===t&&n.setAttribute("selected",!0),l.appendChild(n)}),l);r.appendChild(d)}else{var m,f=((m=document.createElement("input")).setAttribute("name",o),m.setAttribute("data-qa",o),m.setAttribute("required",!0),("salary"===o||"age"===o)&&m.setAttribute("type","number"),m);r.appendChild(f)}a.appendChild(r)}),c=a,(o=document.createElement("button")).innerText="".concat("Save to table"),l=o,i.appendChild(c),i.appendChild(l),l.addEventListener("click",function(e){var t,r,a;e.preventDefault(),function(e){var t=new FormData(e),r=!0,a="",o=!0,i=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d,s=(d=l.value,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),2!==o.length);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(d,2)||n(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=s[0],p=s[1];"name"===m&&p.length<4&&(a="Name should have more then 3 letters",r=!1),"age"===m&&(18>+p||+p>90)&&(a.length>0?a+=", not properly age!":a="Not properly age!",r=!1),p.length&&""!==p.trim()||(a="Empty field not valid!",r=!1)}}catch(e){i=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}return r||f(10,10,"Error",a,"error"),r}(i)&&(t=new FormData(i),r=document.createElement("tr"),a=new Intl.NumberFormat("en-US"),d.forEach(function(e){var n=e.textContent.toLowerCase(),o=document.createElement("td"),i=t.get(n);"salary"===n&&(i="$".concat(a.format(i))),o.textContent=i,r.appendChild(o)}),u.tBodies[0].appendChild(r),f(10,10,"Success","New employee is successfully added to the table!","success"),i.reset())}),document.body.appendChild(i),d.forEach(function(e,n){e.addEventListener("click",function(r){var a,o,i,c=e.textContent;m[n]=function(e){for(var t=0;t<m.length;t++)t!==e?m[t]=-1:m[t]*=-1;return m[e]}(n),a=m[n],(o=t(u.tBodies[0].children)).sort(function(e,t){return function(e,t,n,r,a){var o=e.cells[r].innerText,i=t.cells[r].innerText;switch(n){case"Name":case"Position":case"Office":return o.localeCompare(i)*a;case"Age":return(+o-+i)*a;case"Salary":return(p(o)-p(i))*a;default:return 0}}(e,t,c,n,a)}),i=document.createDocumentFragment(),o.forEach(function(e){return i.appendChild(e)}),u.tBodies[0].appendChild(i)})}),u.tBodies[0].addEventListener("click",function(e){if(e.target&&"TD"===e.target.nodeName){var n=e.target.parentElement,r=u.tBodies[0].getElementsByTagName("tr"),a=t(r).findIndex(function(e){return e.classList.contains("active")});-1!==a&&r[a].classList.remove("active"),n.classList.add("active")}});
//# sourceMappingURL=index.bdf463c0.js.map
